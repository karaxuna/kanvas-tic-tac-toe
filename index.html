<html>
    <head>
        <title> Tic tac toe using kanvas </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <!-- build:js ./xox.js -->
        <!-- kanvas -->
        <script type="text/javascript" src="./src/kanvas/utils.js"></script>
        <script type="text/javascript" src="./src/kanvas/EventTarget.js"></script>
        <script type="text/javascript" src="./src/kanvas/Vector.js"></script>
        <script type="text/javascript" src="./src/kanvas/Point.js"></script>
        <script type="text/javascript" src="./src/kanvas/Size.js"></script>
        <script type="text/javascript" src="./src/kanvas/Mouse.js"></script>
        <script type="text/javascript" src="./src/kanvas/Figure.js"></script>
        <script type="text/javascript" src="./src/kanvas/Font.js"></script>
        <script type="text/javascript" src="./src/kanvas/Text.js"></script>
        <script type="text/javascript" src="./src/kanvas/Line.js"></script>
        <script type="text/javascript" src="./src/kanvas/Scene.js"></script>

        <!-- xox -->
        <script type="text/javascript" src="./src/xox/Matrix.js"></script>
        <script type="text/javascript" src="./src/xox/Block.js"></script>
        <script type="text/javascript" src="./src/xox/Board.js"></script>
        <script type="text/javascript" src="./src/xox/Game.js"></script>
        <!-- endbuild -->

        <!-- xox container -->
        <canvas width="500" height="500" id="canvas"></canvas>

        <!-- main -->
        <script type="text/javascript">
            var game = new xox.Game({
                context: document.getElementById('canvas').getContext('2d'),
                letters: ['X', 'O', 'Z'],
                width: 6,
                height: 6,
                winningScore: 3
            });

            game.on('over', function () {
                if (game.winner) {
                    alert('Winner is ' + game.winner);
                } else {
                    alert('Draw')
                }
                game.restart();
            });

            resize();
            window.addEventListener('resize', resize);
            function resize() {
                var canvas = game.scene.context.canvas;
                var size = canvas.parentNode.getBoundingClientRect();
                var width = size.width > 400 ? 400 : size.width;
                canvas.width = width;
                canvas.height = width;
                game.scene.redraw();
            }
        </script>
    </body>
</html>